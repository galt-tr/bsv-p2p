/**
 * StorageServer.ts
 *
 * A server-side class that "has a" local WalletStorage (like a StorageKnex instance),
 * and exposes it via a JSON-RPC POST endpoint using Express.
 */
import { MakeWalletLogger } from '@bsv/sdk';
import { Request } from 'express';
import { Wallet } from '../../Wallet';
import { StorageProvider } from '../StorageProvider';
import { EntityTimeStamp } from '../../sdk/types';
export interface WalletStorageServerOptions {
    port: number;
    wallet: Wallet;
    monetize: boolean;
    calculateRequestPrice?: (req: Request) => number | Promise<number>;
    adminIdentityKeys?: string[];
    makeLogger?: MakeWalletLogger;
}
export declare class StorageServer {
    private app;
    private port;
    private storage;
    private wallet;
    private monetize;
    private calculateRequestPrice?;
    private adminIdentityKeys?;
    private makeLogger?;
    constructor(storage: StorageProvider, options: WalletStorageServerOptions);
    private setupRoutes;
    private validateParam0;
    server: any;
    start(): void;
    close(): Promise<void>;
    validateDate(date: Date | string | number): Date;
    /**
     * Helper to force uniform behavior across database engines.
     * Use to process all individual records with time stamps retreived from database.
     */
    validateEntity<T extends EntityTimeStamp>(entity: T, dateFields?: string[]): T;
    /**
     * Helper to force uniform behavior across database engines.
     * Use to process all arrays of records with time stamps retreived from database.
     * @returns input `entities` array with contained values validated.
     */
    validateEntities<T extends EntityTimeStamp>(entities: T[], dateFields?: string[]): T[];
}
//# sourceMappingURL=StorageServer.d.ts.map