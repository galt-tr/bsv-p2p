# 2026-02-19

## Mission Control Dashboard ‚Äî BUILT & LIVE
- Built from @AlexFinn's viral article (https://x.com/AlexFinn/status/2024169334344679783)
- **Tech:** NextJS 14 + SQLite (better-sqlite3 + Drizzle ORM) + Tailwind, dark theme
- **6 pages:** Dashboard, Tasks Board, Memory Browser, Calendar, Team, Content Pipeline, Office, Projects
- **REST APIs:** /api/tasks, /api/events, /api/team, /api/content, /api/memory, /api/projects
- **GitHub:** galt-tr/mission-control (private)
- **Running:** systemd user service on port 3333, exposed via ngrok at rearden-steel.ngrok.app
- Dylan chose SQLite over Convex (no vendor lock-in)
- Built by hand after Claude Code crashed (PTY bug)

## Multi-Agent Team ‚Äî OPERATIONAL
5 agents configured in gateway, all with heartbeats:
- üêÜ **Ghanima** (main, id=1) ‚Äî Opus, 15m heartbeat, Telegram channel. Team lead + Dylan's interface.
- üìã **PM** (pm, id=7) ‚Äî Sonnet, 10m heartbeat. Task triage and assignment.
- üíª **Coder** (coder, id=2) ‚Äî Sonnet, 10m heartbeat. Primary developer.
- ü¶Å **Leto** (leto, id=6) ‚Äî Sonnet, 10m heartbeat. Secondary developer.
- üîç **QA** (qa, id=9) ‚Äî Sonnet, 10m heartbeat. Quality engineer.

### Agent Workspaces
- Each agent has own workspace: `~/.openclaw/workspace-{name}/`
- Shared files via symlinks: TASK_LIFECYCLE.md, project-contexts/, ~/projects/
- Auth profiles copied from main to each agent

### Key Architecture Decisions
- **Task board is the nervous system** ‚Äî ALL agent work tracked via Mission Control tasks
- **TASK_LIFECYCLE.md** ‚Äî shared protocol symlinked into every workspace, enforces todo‚Üíin-progress‚Üídone
- **Project context files** ‚Äî `~/.openclaw/project-contexts/{project}.md` with architecture, gotchas, memory file references
- **Fresh context per task** ‚Äî devs request /new after each task to clear context window
- **PM audits board health** ‚Äî fixes stuck tasks, balances workload
- **Ghanima sends team summaries** to Dylan on heartbeat

### Removed: Assistant agent ‚Äî merged calendar/reminder duties into Ghanima

## Shared Git Repos
- `~/projects/bsv-p2p/` ‚Üí symlink to `~/.openclaw/workspace/bsv-p2p/` (GitHub: galt-tr/bsv-p2p)
- `~/projects/mission-control/` ‚Üí symlink to `~/mission-control/` (GitHub: galt-tr/mission-control)
- All agent workspaces have `~/projects/` symlinked in

## Task Board Results (as of 5:56 PM)
- **32 tasks completed** in one afternoon
- **5 remaining** (all low/medium P2P work)
- Coder completed ~22 tasks, Leto ~3, QA ~1, Ghanima ~1
- QA filed 10 bugs, all fixed by Coder

## Key Bugs & Lessons

### Claude Code PTY Bug
- Crashes with `pty:true` on this machine. Works fine with `-p` (print mode).
- Root cause: google-auth-library in Claude Code bundle breaks on PTY env

### Node Version Confusion
- `/usr/bin/node` = v22.20.0 (system, works with native modules)
- `/home/linuxbrew/.linuxbrew/bin/node` = v25.6.1 (too new for node-gyp)
- bsv-p2p MUST use `/usr/bin/node` for running and testing
- Dylan already had Node 22 ‚Äî didn't need to install anything

### Heartbeat Was Disabled for Main Agent!
- My heartbeat was `disabled` in config the entire time ‚Äî never sent Dylan summaries
- Other agents WERE working via heartbeats but silently (no Telegram channel)
- Fixed: enabled at 15m, other agents at 10m
- **Lesson:** Always verify your own heartbeat is enabled after config changes

### Browser/X Access
- Browser extension relay works for fetching X/Twitter articles
- yt-dlp doesn't work for tweets
- Must have Chrome extension attached to a tab

### QA Left Junk Tasks
- QA's security testing created 17 garbage tasks (SQL injection/XSS payloads as titles)
- Cleaned up manually. Need input sanitization on task creation.

### Leto Left Broken JSX
- Projects page had duplicate JSX causing build error. Fixed manually.
- Need code quality checks before commits.

## Memory Improvements Applied
From @KSimback's guide:
1. Memory Flush ‚Äî enabled at 40k token threshold
2. Context Pruning ‚Äî TTL 1h‚Üí6h, keepLastAssistants: 3
3. Hybrid Search ‚Äî vector (0.7) + BM25 (0.3)
4. Session indexing ‚Äî tried but `experimental` key rejected by openclaw config validator

## Waking Agents
- `/hooks/wake` only wakes default (main) agent
- `openclaw cron add --agent <id> --at "+Xm" --delete-after-run` is the way to force-wake specific agents
- Heartbeat timers create sessions automatically, no manual wake needed if intervals are short enough

## BSV P2P Onboarding Review (6:27 PM)
- Comprehensive review of bsv-p2p project for new user/bot onboarding
- **11 new tickets filed** covering: automated setup script, cross-platform daemon management (systemd/launchd), native OpenClaw plugin integration, documentation rewrite, root directory cleanup, status/doctor CLI, first-run experience, security audit (plaintext keys), npm publication, peer discovery service, graceful error messages
- Key insight: technically impressive but onboarding is terrible ‚Äî no one-command setup, no persistent daemon management, incomplete/inconsistent docs, 20+ loose test files in root
- Referenced mcporter skill's `daemon start/stop/status` pattern as model to follow
- Researching native OpenClaw plugin integration (like overlay plugin) to eliminate separate daemon

## Agent Active Status Bug Fix (6:20 PM)
- Agents showed "offline" while actively working ‚Äî lastSeenAt-based detection insufficient
- Fixed: GET /api/team now cross-references in-progress tasks. If agent has an in-progress task, status="active" and currentTask auto-populated from task title
- Committed and pushed to galt-tr/mission-control

## Interactive Mission Control (6 PM)
- Dylan wants to manage agents from the dashboard UI
- Task created for: assignee dropdowns on cards, "Wake Agent" buttons, "Assign & Wake" combo, priority cycling, bulk actions
- Key: `/api/agents/wake` endpoint shells out to `openclaw cron add --agent <id>` to force-wake agents
- Agent IDs for wake: main, pm, coder, leto, qa
- Coder woken to pick up this high-priority task

## Google Calendar
- `gog` installed but not authenticated ‚Äî needs Google Cloud OAuth setup
- Calendar sync + 1-hour-before alerts planned but blocked on auth
